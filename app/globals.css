@import "tailwindcss";

/* =============================================================================
   PRISM Design System - Tailwind v4
   ============================================================================= */

/*
 * Dark mode variant — Tailwind v4 syntax.
 * Targets any element that is a descendant of .dark on <html>.
 * next-themes toggles this class automatically.
 */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* PRISM Custom Colors */
  --color-prism-trust-high: #10b981;      /* emerald-500 */
  --color-prism-trust-medium: #f59e0b;    /* amber-500 */
  --color-prism-trust-low: #f43f5e;       /* rose-500 */

  /* Extend default colors */
  --color-slate-50: #f8fafc;
  --color-slate-100: #f1f5f9;
  --color-slate-200: #e2e8f0;
  --color-slate-300: #cbd5e1;
  --color-slate-400: #94a3b8;
  --color-slate-500: #64748b;
  --color-slate-600: #475569;
  --color-slate-700: #334155;
  --color-slate-800: #1e293b;
  --color-slate-900: #0f172a;
  --color-slate-950: #020617;

  --color-emerald-50: #ecfdf5;
  --color-emerald-100: #d1fae5;
  --color-emerald-200: #a7f3d0;
  --color-emerald-300: #6ee7b7;
  --color-emerald-400: #34d399;
  --color-emerald-500: #10b981;
  --color-emerald-600: #059669;
  --color-emerald-700: #047857;

  --color-amber-50: #fffbeb;
  --color-amber-100: #fef3c7;
  --color-amber-200: #fde68a;
  --color-amber-500: #f59e0b;
  --color-amber-600: #d97706;
  --color-amber-700: #b45309;

  --color-rose-50: #fff1f2;
  --color-rose-200: #fecdd3;
  --color-rose-500: #f43f5e;
  --color-rose-600: #e11d48;
  --color-rose-700: #be123c;
}

/* =============================================================================
   Shadcn CSS Variables — Light & Dark
   ============================================================================= */

:root {
  --background: #f8fafc;
  --foreground: #0f172a;
  --card: #ffffff;
  --card-foreground: #0f172a;
  --popover: #ffffff;
  --popover-foreground: #0f172a;
  --primary: #059669;
  --primary-foreground: #ffffff;
  --secondary: #f1f5f9;
  --secondary-foreground: #0f172a;
  --muted: #f1f5f9;
  --muted-foreground: #64748b;
  --accent: #f1f5f9;
  --accent-foreground: #0f172a;
  --destructive: #e11d48;
  --border: #e2e8f0;
  --input: #e2e8f0;
  --ring: #059669;
  --radius: 0.5rem;

  /* Scrollbar tokens — light mode */
  --scrollbar-track: #f1f5f9;       /* slate-100 */
  --scrollbar-thumb: #cbd5e1;       /* slate-300 */
  --scrollbar-thumb-hover: #059669; /* emerald-600 */
}

.dark {
  --background: #0f172a;
  --foreground: #f8fafc;
  --card: #1e293b;
  --card-foreground: #f8fafc;
  --popover: #1e293b;
  --popover-foreground: #f8fafc;
  --primary: #10b981;
  --primary-foreground: #ffffff;
  --secondary: #1e293b;
  --secondary-foreground: #f8fafc;
  --muted: #1e293b;
  --muted-foreground: #94a3b8;
  --accent: #1e293b;
  --accent-foreground: #f8fafc;
  --destructive: #f43f5e;
  --border: #334155;
  --input: #334155;
  --ring: #10b981;

  /* Scrollbar tokens — dark mode */
  --scrollbar-track: #0f172a;       /* slate-900 */
  --scrollbar-thumb: #334155;       /* slate-700 */
  --scrollbar-thumb-hover: #10b981; /* emerald-500 */
}

@layer base {
  * {
    border-color: theme('colors.slate.200');
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: system-ui, -apple-system, sans-serif;
  }
}

/* =============================================================================
   PRISM Custom Scrollbar
   
   Design goals:
   - Thin (6px) so it doesn't compete with content
   - Rounded thumb — feels modern, not Win95
   - Transparent track — blends into panel background
   - Emerald on hover — PRISM brand accent, instant feedback
   - Smooth transition on thumb color change
   - Dark mode aware via CSS variables set above
   - Firefox supported via scrollbar-width + scrollbar-color
   - Applies globally so both PDF panel and chat messages panel match
   ============================================================================= */

/* Webkit (Chrome, Edge, Safari) */
::-webkit-scrollbar {
  width: 6px;
  height: 6px; /* for horizontal scrollbars (PDF zoom) */
}

::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 999px;
}

::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  border-radius: 999px;
  transition: background-color 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) transparent;
}

/* =============================================================================
   Custom Keyframes & Animations
   ============================================================================= */

@keyframes blink {
  0%, 49% { opacity: 1; }
  50%, 100% { opacity: 0; }
}

@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* =============================================================================
   PRISM Utility Classes
   ============================================================================= */

@layer utilities {
  .bg-trust-high { background-color: var(--color-prism-trust-high); }
  .bg-trust-medium { background-color: var(--color-prism-trust-medium); }
  .bg-trust-low { background-color: var(--color-prism-trust-low); }

  .text-trust-high { color: var(--color-prism-trust-high); }
  .text-trust-medium { color: var(--color-prism-trust-medium); }
  .text-trust-low { color: var(--color-prism-trust-low); }

  .border-trust-high { border-color: var(--color-prism-trust-high); }
  .border-trust-medium { border-color: var(--color-prism-trust-medium); }
  .border-trust-low { border-color: var(--color-prism-trust-low); }

  .animate-blink { animation: blink 1s infinite; }
  .animate-pulse-slow { animation: pulse-slow 3s ease-in-out infinite; }
}